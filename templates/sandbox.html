<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galaxias - Sandbox Mode</title>
    <meta name="description" content="Create your own solar system">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/sandbox.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    href="https://fonts.googleapis.com/css2?family=Shabo:wght@400;700;900&family=Korvich:wght@400;700&display=swap"
    rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>
    <div id="loading-screen">
        <div class="loader-content">
            <div class="loader-title">GALAXIAS</div>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <div class="loading-text" id="loadingText">Loading your playground</div>
        </div>
    </div>
    <div id="canvas-container"></div>
    <div class="top-bar">
        <div class="logo">Sandbox</div>
        <div class="top-controls">
            <button class="control-btn" id="backBtn">Back</button>
            <button class="control-btn" id="resetBtn">Reset</button>
        </div>
    </div>
    <div class="sidebar-menu" id="leftSidebar">
        <div class="sidebar-content">
            <div class="menu-section">
                <h3 class="menu-title">Planets</h3>
                <div class="menu-items">
                    <button class="menu-item" data-type="planet" data-name="Mercury">Mercury</button>
                    <button class="menu-item" data-type="planet" data-name="Venus">Venus</button>
                    <button class="menu-item" data-type="planet" data-name="Earth">Earth</button>
                    <button class="menu-item" data-type="planet" data-name="Mars">Mars</button>
                    <button class="menu-item" data-type="planet" data-name="Jupiter">Jupiter</button>
                    <button class="menu-item" data-type="planet" data-name="Saturn">Saturn</button>
                    <button class="menu-item" data-type="planet" data-name="Uranus">Uranus</button>
                    <button class="menu-item" data-type="planet" data-name="Neptune">Neptune</button>
                    <button class="menu-item" data-type="planet" data-name="Green Planet">Green Planet</button>
                    <button class="menu-item" data-type="planet" data-name="Alien Planet">Alien Planet</button>
                    <button class="menu-item" data-type="planet" data-name="Lava Planet">Lava Planet</button>
                </div>
            </div>
            <div class="menu-section">
                <h3 class="menu-title">Stars</h3>
                <div class="menu-items">
                    <button class="menu-item" data-type="star" data-name="Sun">Sun</button>
                    <button class="menu-item" data-type="star" data-name="Dwarf Star">Dwarf Star</button>
                </div>
            </div>
        </div>
        <button class="sidebar-toggle" id="leftToggle"><i class="fas fa-chevron-left"></i></button>
    </div>
    <div class="right-sidebar" id="rightSidebar">
        <div class="sidebar-content">
            <div class="tabs-header">
                <button class="tab-btn active" data-tab="sceneTab">Scene</button>
                <button class="tab-btn" data-tab="objectTab">Properties</button>
            </div>

            <div id="sceneTab" class="tab-content">
                <h3 class="menu-title">Background Color</h3>
                <div class="color-options">
                    <button class="color-circle" data-color="#FFFFFF" style="background: #FFFFFF; border-color: #999;"
                        title="White"></button>
                    <button class="color-circle" data-color="#000000" style="background: #000000;"
                        title="Black"></button>
                    <button class="color-circle" data-color="#F5F5F5" style="background: #F5F5F5; border-color: #999;"
                        title="Off-White"></button>
                    <button class="color-circle" data-color="#808080" style="background: #808080;"
                        title="Grey"></button>
                    <button class="color-circle custom-color"
                        style="background: linear-gradient(135deg, #FF6B6B, #4ECDC4, #45B7D1); border-color: #fff; display: flex; align-items: center; justify-content: center;"
                        title="Custom Color" id="customColorBtn">
                        <span class="material-icons"
                            style="font-size: 1.2rem; filter: drop-shadow(0 0 2px rgba(0,0,0,0.5));">palette</span>
                    </button>
                </div>
                <div class="toggle-buttons-container">
                    <button class="icon-toggle-btn active" id="starToggleBtn" title="Toggle Stars">
                        <span class="material-icons">auto_awesome</span>
                        <span>Stars</span>
                    </button>
                    <button class="icon-toggle-btn active" id="gridToggleBtn" title="Toggle Grid">
                        <span class="material-icons">grid_on</span>
                        <span>Grid</span>
                    </button>
                    <button class="icon-toggle-btn active" id="hideAllBtn" title="Hide All Objects (H)">
                        <span class="material-icons">visibility</span>
                        <span>All</span>
                    </button>
                    <button class="icon-toggle-btn" id="recentreBtn" title="Recentre View (X)">
                        <span class="material-icons">center_focus_strong</span>
                        <span>Center</span>
                    </button>
                    <button class="icon-toggle-btn" id="screenshotBtn" title="Take Screenshot">
                        <span class="material-icons">photo_camera</span>
                        <span>Shot</span>
                    </button>
                    <button class="icon-toggle-btn" id="spinAllBtn" title="Spin All Objects">
                        <span class="material-icons">autorenew</span>
                        <span>Spin All</span>
                    </button>
                </div>
            </div>

            <div id="objectTab" class="tab-content" style="display: none;">
                <div id="propertiesPanel" class="menu-section">
                    <h3 class="menu-title">Properties</h3>
                    <div class="properties-content">
                        <div class="property-item">
                            <label>Name</label>
                            <span id="propName">Planet</span>
                        </div>
                        <div class="property-item">
                            <label>Position</label>
                            <div class="coord-row">
                                <div class="coord-group">
                                    <span class="coord-label">X</span>
                                    <input type="number" id="propX" class="styled-input" step="10">
                                </div>
                                <div class="coord-group">
                                    <span class="coord-label">Y</span>
                                    <input type="number" id="propY" class="styled-input" step="10">
                                </div>
                                <div class="coord-group">
                                    <span class="coord-label">Z</span>
                                    <input type="number" id="propZ" class="styled-input" step="10">
                                </div>
                            </div>
                        </div>
                        <div class="property-item">
                            <label>Scale</label>
                            <div class="scale-control">
                                <input type="range" id="propScaleRange" min="0.1" max="100" step="0.1"
                                    class="styled-range">
                                <input type="number" id="propScale" class="styled-input" step="0.1" min="0.1"
                                    style="width: 60px;">
                            </div>
                        </div>
                        <div class="property-actions-grid">
                            <button class="icon-toggle-btn delete-btn" id="deleteBtn" title="Delete Object (D)">
                                <span class="material-icons">delete</span>
                                <span>Delete</span>
                            </button>
                            <button class="icon-toggle-btn" id="spinBtn" title="Spin Selected Object (R)">
                                <span class="material-icons">rotate_right</span>
                                <span>Spin</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div id="noSelectionMsg" class="no-selection"
                    style="padding: 20px; text-align: center; color: rgba(255,255,255,0.5);">
                    Select an object to view properties
                </div>
            </div>
        </div>
        <button class="sidebar-toggle" id="rightToggle"><i class="fas fa-chevron-right"></i></button>
    </div>
    <footer class="github-footer">
        Checkout <a href="https://github.com/sujalnegi/galaxias" target="_blank" rel="noopener noreferrer">Galaxias</a>
        at GitHub
    </footer>

    <div id="screenshotModal" class="modal">
        <div class="modal-content">
            <h3 class="modal-title">Preview</h3>
            <div class="modal-image-container">
                <img id="screenshotPreview" src="" alt="Screenshot Preview">
            </div>
            <div class="modal-actions">
                <button id="closeModalBtn" class="modal-btn cancel">Close</button>
                <button id="downloadShotBtn" class="modal-btn confirm">Download</button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
    <script src="{{ url_for('static', filename='js/sandbox.js') }}"></script>
</body>

</html>